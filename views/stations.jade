extends layout

block scripts


  // leaflet-CSS 
  link(rel='stylesheet' href='https://unpkg.com/leaflet@1.9.4/dist/leaflet.css'  integrity='sha384-sHL9NAb7lN7rfvG5lfHpm643Xkcjzp4jFvuavGOndn6pjVqS6ny56CAt3nsEVT4H' crossorigin='anonymous')
  // Leaflet-Draw-CSS  
  link(rel='stylesheet' href='https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw-src.css' integrity='sha384-quNM/f53oDRhXgM7ssHUgW3xiBudB1t+xgO5LsfeIzK/kfBmxRxsYWBPq9WgTx8C' crossorigin='anonymous')
  // external scripts
  // Leaflet
  script(src='https://unpkg.com/leaflet@1.9.4/dist/leaflet.js' integrity='sha384-cxOPjt7s7Iz04uaHJceBmS+qpjv2JkIHNVcuOrM+YHwZOmJGBXI00mdUXEq65HTH' crossorigin='anonymous' defer)
  // Leaflet-Draw
  script(src='https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw-src.js' integrity='sha384-MA1IhQ/VEJVbmWe+tykQsf7opyy3/bI+tzAEk/+xAzS9qvSad+SPEkJ1+p7RRD2a' crossorigin='anonymous' defer)
  // Leaflet-SubGroups
  script(src='https://unpkg.com/leaflet.featuregroup.subgroup@1.0.1/dist/leaflet.featuregroup.subgroup-src.js' integrity='sha384-jbTL/zsueVL4bMZERISP/PzASzooTdHjfAEmvij+Xmj5m41EDGfE4Ym9gT6Hvho1' crossorigin='anonymous' defer)

  // internal scripts
  script(type="module" src='/javascripts/stations.js' defer)
  

  

block content
  h1= title
  p Auf dieser Seite kannst du die aktuell geladenen Stationen ansehen, diese anpassen oder neue Stationen ergänzen. Hierzu kannst du entweder eine Station direkt auf der Karte einzeichnen oder du trägst eine Station direkt in das Textfeld ein. Die Koordinaten kannst du dir direkt über "www.geojson.io" besorgen.

  .container-fluid 
    .row.justify-content-center 
      h2 Station hinzufügen
    hr.hr
    .row 
        .col-sm-12.col-md-8
            #map1
        .col-sm-12.col-md-4 
            form#station_upload_form
              p.note(align="right")
                span(style='color: red;') *
                |  Pflichtfeld
              h3 Stationsmetadaten
              .form-group
                label.required.font-weight-bold(for='exampleInputEmail1') Name
                input#input_name.form-control(type='text' name="input_name" placeholder='Name eingeben' required)
              .form-group
                label.required.font-weight-bold(for='input_description') Beschreibung
                input#input_description.form-control(type='text' name="input_description" placeholder='Beschreibung eingeben' required)
              .form-group
                label.font-weight-bold(for='input_url') URL
                input#input_url.form-control(type='url' name="input_url" placeholder='URL eingeben')
              hr.hr
              h3.required Stations-GeoJSON
              .form-group 
                label.font-weight-bold(for="textarea_geoJSON") GeoJSON eingeben
                textarea#textarea_geoJSON.form-control(cols="30" rows="10" style='resize:none' name="textarea_geoJSON" placeholder='Gib hier die Stationsdaten im GeoJSON-Format an.' required)
              .form-group 
                p.text-center.text-weight-light
                  u oder
              .form-group
                label.font-weight-bold(for='file_upload_geoJSON') GeoJSON-Datei hochladen
                // This field doesn't have the attribute "name" as it's not supposed to be send with the form.
                input#file_upload_geoJSON.form-control-file(type='file')
              hr.hr
              button#submit_station.btn.btn-primary(type='button') Daten absenden

  hr.hr
  .container-fluid
    table(style="width:100%")#station_table.table.table-striped.table-hover
      thead(style="width:100%")
        tr
          th(scope="col") Name
          th(style="text-align:center" scope="col") Aktionen
      tbody
  
  #edit_station_popup.modal.fade(tabindex='-1' role='dialog' aria-labelledby='exampleModalCenterTitle' aria-hidden='true')
    .modal-dialog.modal-dialog-centered(role='document')
      .modal-content
        .modal-header
          h5.modal-title Station bearbeiten
          button.close(type='button' data-dismiss='modal' aria-label='Close')
            span(aria-hidden='true') ×
        .modal-body(align="center")
          textarea#update_stationGeoJSON(rows='25' cols='45' style='resize:none')
        .modal-footer
          button.btn.btn-secondary(type='button' data-dismiss='modal') Schließen
          button#update_station.btn.btn-primary(type="button" data-dismiss='modal') Aktualisieren